pipeline {
    agent any

    stages {
        stage('Create S3 Bucket') {
            steps {
                script {
                    // Wrap everything inside withAWS to use credentials
                    withAWS(credentials: 'aws-cred', region: 'us-east-1') {
                        // Replace 'vas-unique-bucket-123456' with your bucket name
                        sh '''
                          aws s3api create-bucket \
                            --bucket vas-unique-bucket-123456 \
                            --region us-east-1 \
                        '''
                    }
                }
            }
        }
    }
}
